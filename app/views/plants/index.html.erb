<div class="w-75 main-container m-auto">
<% if params[:query].present? %>
<h2 class="text-center my-5">Résultats</h2>
<% else %>
<h2 class="text-center my-5">Toutes les plantes</h2>
<% end %>
<div id="filtres" class="mb-4">
<div class="">
  <%= form_with(url: plants_path, method: :get, class: "d-flex", data: {controller: "filter", turbo_frame: "_top"}) do %>
    <div class="ps-3">
      <div class="">
        <%= label_tag :categorie %>
        <%= select_tag :categorie,
              options_for_select(['Fruits', 'Légumes', 'Aromates'],
              selected: params[:categorie]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class="">
        <%= label_tag :type_semis %>
        <%= select_tag :type_semis,
              options_for_select(['Pleine Terre', 'En godet', 'Pépinière', 'Greffage', 'Bouturage'],
              selected: params[:type_semis]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class=" ">
        <%= label_tag :culture %>
        <%= select_tag :culture,
              options_for_select(['Pleine terre', 'En pot'],
              selected: params[:culture]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class=" ">
        <%= label_tag :periode_semis %>
        <%= select_tag :periode_semis,
              options_for_select(['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
              selected: params[:periode_semis]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
     <div class="ps-3" style="min-width: 150px;">
      <div class=" ">
        <%= label_tag :periode_recoltes %>
        <%= select_tag :periode_recoltes,
              options_for_select(['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
              selected: params[:periode_recoltes]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class=" ">
        <%= label_tag :difficulte %>
        <%= select_tag :difficulte,
              options_for_select(['Facile', 'Moyen', 'Difficile'],
              selected: params[:difficulte]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class=" ">
        <%= label_tag :exposition %>
        <%= select_tag :exposition,
              options_for_select(['Plein soleil', 'Ombragée', 'Mi-ombragée', 'Ensoleillée'],
              selected: params[:exposition]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3" style="min-width: 120px;">
      <div class=" ">
        <%= label_tag :besoin_eau %>
        <%= select_tag :besoin_eau,
              options_for_select(['Faible', 'Moyen', 'Fort'],
              selected: params[:besoin_eau]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class=" ">
        <%= label_tag :hauteur %>
        <%= select_tag :hauteur,
              options_for_select(['10-20 cm', '15-30 cm', '20-30 cm', '20-50 cm', '20-60 cm', '30 cm', '30-40 cm', '30-50 cm', '30-60 cm', '30-90 cm', '40-50 cm', '40-60 cm', '40-80 cm', '50-70 cm', '50-100 cm', '60 cm', '60-80 cm', '60-90 cm', '60-100 cm', '60-120 cm', '80 cm', '80-120 cm', '80-140 cm', '1 m', '1.2', '1-1.5 m', '1.5 m', '1.5-2 m', '1-2 m', '1-3 m', '1.5-3 m', '1-7 m', '1-10 m', '2-3 m', '2-4 m', '2-5 m', '3-4 m', '3-5 m', '3-6 m', '3-10 m', '4-6 m', '4-10 m', '4-12 m', '5-10 m', '6-9 m', '15-20 m', '15-30 m'],
              selected: params[:hauteur]),
              include_blank: true,
              class: 'rounded',
              data: {action: "change->filter#submit"} %>
      </div>
    </div>
    <div class="ps-3">
      <div class=" ">
          <%= label_tag :temperature %>
          <%= select_tag :temperature,
                options_for_select(['-10-35°C', '-5°C-20°C', '0-20°C', '10°C', '10-15°C', '10-25°C', '10-30°C', '15°C', '15-20°C', '15-25°C', '15-30°C', '20°C', '20-25°C', '20-30°C', '25-35°C'],
                selected: params[:temperature]),
                include_blank: true,
                class: 'rounded',
                data: {action: "change->filter#submit"} %>
        </div>
    </div>
    <div class="ps-3">
      <div class=" ">
          <%= label_tag :nature_sol %>
          <%= select_tag :nature_sol,
                options_for_select(['Tout types', 'Drainé', 'Acide', 'Ameubli', 'Riche en humus', 'Argileux', 'Léger', 'Profond', 'Riche', 'Neutre', 'Moyen', 'Frais', 'Humifère', 'Sableuse', 'Calcaire'],
                selected: params[:nature_sol]),
                include_blank: true,
                class: 'rounded',
                data: {action: "change->filter#submit"} %>
        </div>
    </div>
  <% end %>
</div>
  <div class="d-flex justify-content-center">
    <%= link_to "Réinitialiser", plants_path, class:"text-white text-decoration-none btn btn-success rounded-pill mt-3", style:"max-width: 120px;" %>
  </div>
</div>

<%= turbo_frame_tag "plants", class: "" do %>
  <%= render "plants", plants: @plants %>
<% end %>

</div>
